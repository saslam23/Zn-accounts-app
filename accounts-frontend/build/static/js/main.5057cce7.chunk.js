(this["webpackJsonpaccounts-receivable"]=this["webpackJsonpaccounts-receivable"]||[]).push([[0],{167:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(34),r=a.n(o),c=(a(59),a(25)),s=a(12),i=a(9),m=a(10),u=a(13),d=a(11),h=a(4),b=a(14),E=a(8),v=a.n(E),g=a(76),p=a.n(g),f=(a(102),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).validate=function(){var e="",t="",n="";return a.state.category||(e="Please enter a category"),a.state.event.includes("Choose...")&&(n="Please enter an event"),a.state.amount||(t="Please enter an amount"),!(e||t||n)||(a.setState({categoryError:e,amountError:t,eventError:n}),!1)},a.onChangeCategory=a.onChangeCategory.bind(Object(h.a)(a)),a.onChangeEvent=a.onChangeEvent.bind(Object(h.a)(a)),a.onChangeAmount=a.onChangeAmount.bind(Object(h.a)(a)),a.onChangeDate=a.onChangeDate.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.state={category:"",event:"",amount:"",date:new Date,events:[],categoryError:"",amountError:"",eventError:""},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("http://localhost:3001/fields/").then((function(t){t.data.length>0&&e.setState({events:t.data.map((function(e){return e.event})),event:t.data[0].event})}))}},{key:"onChangeCategory",value:function(e){this.setState({category:e.target.value})}},{key:"onChangeEvent",value:function(e){this.setState({event:e.target.value})}},{key:"onChangeAmount",value:function(e){this.setState({amount:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e})}},{key:"onSubmit",value:function(e){if(e.preventDefault(),this.validate()){var t={category:this.state.category,event:this.state.event,amount:this.state.amount,date:this.state.date};console.log(t),v.a.post("/transactions/add",t).then((function(e){return console.log(e.data)})),window.location="/list"}}},{key:"render",value:function(){return window.localStorage.getItem("isAuthenticated")?l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("form",{className:"container",onSubmit:this.onSubmit},l.a.createElement("div",{className:"text-center",id:"dropdownMenuButton"},l.a.createElement("label",{className:"label"},"Category"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("select",{className:"custom-select custom-select-md mb-3",id:"list",value:this.state.category,onChange:this.onChangeCategory},l.a.createElement("option",null,"Choose..."),l.a.createElement("option",null,"Vendor"),l.a.createElement("option",null,"Sponsor"),l.a.createElement("option",null,"Miscellaneous"))),l.a.createElement("div",{style:{color:"red",fontSize:"14pt",textAlign:"center",fontWeight:"bold"}},this.state.categoryError),l.a.createElement("div",{className:"text-center",id:"dropdownMenuButton"},l.a.createElement("label",{className:"label"},"Event"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("select",{className:"custom-select custom-select-md mb-3",id:"list",value:this.state.event,onChange:this.onChangeEvent},l.a.createElement("option",null,"Choose..."),this.state.events.map((function(e){return l.a.createElement("option",{key:e,value:e},e)})))),l.a.createElement("div",{style:{color:"red",fontSize:"14pt",textAlign:"center",fontWeight:"bold"}},this.state.eventError),l.a.createElement("div",{className:"container text-center"},l.a.createElement("div",{className:"container box",id:"dropdownMenuButton"},l.a.createElement("span",{className:"currencyinput"},"$ ",l.a.createElement("input",{style:{color:"red"},className:"text-center btn",type:"text",placeholder:"Amount",value:this.state.amount,onChange:this.onChangeAmount})))),l.a.createElement("div",{style:{textAlign:"center",color:"red",fontSize:"14pt",fontWeight:"bold"}},this.state.amountError),l.a.createElement("div",{className:"text-center",id:"dropdownMenuButton"},l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement(p.a,{selected:this.state.date,onChange:this.onChangeDate})),l.a.createElement("br",null)),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary grad",type:"submit"},"Submit"))))):l.a.createElement(c.a,{to:"/login"})}}]),t}(n.Component)),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onSubmitLogout=a.onSubmitLogout.bind(Object(h.a)(a)),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"onSubmitLogout",value:function(){v.a.get("/user/logout").then(localStorage.clear()).catch((function(e){return console.log(e)})),window.location="/login"}},{key:"render",value:function(){var e=this;return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(s.b,{to:"/",style:{fontSize:"20pt"},className:"navbar-brand"},l.a.createElement("img",{src:"/assets/zn.png",alt:"Znlogo",className:"Znlogo d-block mx-auto"})),l.a.createElement("div",{className:" navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/",className:"nav-link"},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/list",className:"nav-link"},"Entries")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/field",className:"nav-link"},"Create New Event")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/dropdown",className:"nav-link"},"Events"))),l.a.createElement("button",{style:{color:"white"},className:" btn-sm grad",onClick:function(){return e.onSubmitLogout()}},"Logout")))}}]),t}(n.Component),C=a(79),N=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.transaction.category),l.a.createElement("td",null,e.transaction.event),l.a.createElement("td",null,e.transaction.amount),l.a.createElement("td",null,e.transaction.date.substring(0,10)),l.a.createElement("td",null,l.a.createElement("button",{className:" grad btn-outline-light btn-sm",href:"#",onClick:function(){e.deleteTransaction(e.transaction._id)}},"delete")))},w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).deleteTransaction=a.deleteTransaction.bind(Object(h.a)(a)),a.state={transactions:[]},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/transactions/").then((function(t){e.setState({transactions:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteTransaction",value:function(e){v.a.delete("/transactions/"+e).then((function(e){return console.log(e.data)})),this.setState({transactions:this.state.transactions.filter((function(t){return t._id!==e}))})}},{key:"transactionList",value:function(){var e=this;return this.state.transactions.map((function(t){return l.a.createElement(N,{transaction:t,deleteTransaction:e.deleteTransaction,key:t._id})}))}},{key:"render",value:function(){return window.localStorage.getItem("isAuthenticated")?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("h3",{className:"text-center"},"Logged Transactions"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Event"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Date"),l.a.createElement("th",null,"Action ",l.a.createElement("button",{style:{float:"right"},className:" btn-sm grad"},l.a.createElement(C.CSVLink,{style:{color:"white"},data:this.state.transactions,headers:[{label:"category",key:"category"},{label:"event",key:"event"},{label:"amount",key:"amount"},{label:"date",key:"date"}]}," Export "))))),l.a.createElement("tbody",null,this.transactionList()))):l.a.createElement(c.a,{to:"/login"})}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeEvent=a.onChangeEvent.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.state={event:""},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"onChangeEvent",value:function(e){this.setState({event:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={event:this.state.event};console.log(t),v.a.post("/fields/add",t).then((function(e){return console.log(e.data)})),this.setState({event:""})}},{key:"render",value:function(){return window.localStorage.getItem("isAuthenticated")?l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"},"Create Dropdown Options"),l.a.createElement("form",{className:"container",onSubmit:this.onSubmit,id:"dropdownMenuButton",style:{fontSize:"18pt"}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Enter an Event"),l.a.createElement("input",{type:"text",className:"form-control",required:!0,value:this.state.event,onChange:this.onChangeEvent})),l.a.createElement("div",{className:"text-center"},l.a.createElement("button",{className:"btn btn-primary grad",type:"submit"},"Add")))):l.a.createElement(c.a,{to:"/login"})}}]),t}(n.Component),O=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.field.event),l.a.createElement("td",null,l.a.createElement("button",{className:" grad btn-outline-light btn-sm",href:"#",onClick:function(){e.deleteField(e.field._id)}},"delete")))},j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).deleteField=a.deleteField.bind(Object(h.a)(a)),a.state={events:[]},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.a.get("/fields/").then((function(t){e.setState({events:t.data})})).catch((function(e){console.log(e)}))}},{key:"deleteField",value:function(e){v.a.delete("/fields/"+e).then((function(e){return console.log(e.data)})),this.setState({events:this.state.events.filter((function(t){return t._id!==e}))})}},{key:"fieldsList",value:function(){var e=this;return this.state.events.map((function(t){return l.a.createElement(O,{field:t,deleteField:e.deleteField,key:t._id})}))}},{key:"render",value:function(){return window.localStorage.getItem("isAuthenticated")?l.a.createElement("div",null,l.a.createElement("h3",{className:"text-center"},"Dropdown Options"),l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"Event"),l.a.createElement("th",null,"Action"))),l.a.createElement("tbody",null,this.fieldsList()))):l.a.createElement(c.a,{to:"/login"})}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeEmail=a.onChangeEmail.bind(Object(h.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.state={email:"",password:""},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};v.a.post("/user/signup",t).then(this.props.history.push("/"))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("div",{className:"col-sm-6 card container"},l.a.createElement("div",null,l.a.createElement("div",{className:"card-body"},l.a.createElement("h1",null,"Sign Up"),l.a.createElement("form",{action:"/signup",onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"email",onChange:this.onChangeEmail})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChangePassword,placeholder:"password"})),l.a.createElement("button",{type:"submit",className:"btn btn-primary grad col-sm-6"}," Sign up! "))))))))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChangeEmail=a.onChangeEmail.bind(Object(h.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.state={email:"",password:"",errorMessage:""},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};v.a.post("/user/login",a).then((function(e){var a=e.data.isAuthenticated;window.localStorage.setItem("isAuthenticated",a),t.props.history.push("/")})).catch((function(e){t.setState({errorMessage:"invalid email or password"})}))}},{key:"render",value:function(){return window.localStorage.getItem("isAuthenticated")?l.a.createElement(c.a,{to:"/"}):l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("div",{className:"col-sm-6 card container"},l.a.createElement("div",null,l.a.createElement("div",{className:"card-body"},l.a.createElement("h1",null,"Login"),l.a.createElement("form",{action:"/login",onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"email",value:this.state.email,onChange:this.onChangeEmail})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password"),l.a.createElement("input",{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,placeholder:"password"}),l.a.createElement("p",null," ",this.state.errorMessage," ")),l.a.createElement("button",{type:"submit",className:"btn btn-primary grad col-sm-6"},"Login")),l.a.createElement("p",null,"Don't have an account? ",l.a.createElement(s.b,{to:"/signup"},"Sign Up!"))))))))}}]),t}(n.Component),A=Object(c.f)((function(e){var t=e.location;return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",{style:{textAlign:"center",paddingTop:"15px",fontFamily:"gothic",fontWeight:"bold"}},"Accounts Receivable"),"/signup"!==t.pathname&&"/login"!==t.pathname&&l.a.createElement(y,null),l.a.createElement(c.b,{path:"/",exact:!0,component:f}),l.a.createElement(c.b,{path:"/list",component:w}),l.a.createElement(c.b,{path:"/field",component:S}),l.a.createElement(c.b,{path:"/dropdown",component:j}),l.a.createElement(c.b,{path:"/signup",component:k}),l.a.createElement(c.b,{path:"/login",component:x})))}));var D=function(){return l.a.createElement(s.a,null,l.a.createElement(A,null))};r.a.render(l.a.createElement(D,null),document.getElementById("root"))},80:function(e,t,a){e.exports=a(167)}},[[80,1,2]]]);
//# sourceMappingURL=main.5057cce7.chunk.js.map